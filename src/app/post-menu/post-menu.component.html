<!-- Nothing renders until vm$ emits â†’ no flicker -->
@if (vm$ | async; as vm) {
  <div class="post-menu-container">
    <div class="menu-list" style="z-index: 1;">
      @if (vm.showEdit)   { <button mat-stroked-button><mat-icon>edit</mat-icon> Edit Post</button> }
      @if (vm.showReport) { <button mat-stroked-button><mat-icon>warning</mat-icon> Report</button> }
      @if (vm.showBlock)  { <button mat-stroked-button><mat-icon>block</mat-icon> Block User</button> }

      @if (vm.showBanUser) {
        <button mat-stroked-button (click)="onBanUser()">
          <mat-icon>gavel</mat-icon> Ban User
        </button>
      }
      @if (vm.showBanPost) {
        <button mat-stroked-button (click)="onBanPost()">
          <mat-icon>app_blocking</mat-icon> Ban Post
        </button>
      }

      @if (vm.showDelete)  {
        <button mat-stroked-button (click)="onDeleteOwnPost()">
          <mat-icon>delete</mat-icon> Delete Post
        </button>
      }
      @if (vm.showPromote) {
        <button mat-stroked-button (click)="onPromoteToMod()">
          <mat-icon>shield</mat-icon> Promote to Mod
        </button>
      }
      @if (vm.showDemote)  {
        <button mat-stroked-button (click)="onDemoteFromMod()">
          <mat-icon>shield_moon</mat-icon> Demote From Mod
        </button>
      }
    </div>
  </div>
}
